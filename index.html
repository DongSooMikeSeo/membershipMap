<!doctype html>
<html>
    <head>
 <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css"
   integrity="sha512-xodZBNTC5n17Xt2atTPuE1HxjVMSvLVW9ocqUKLsCC5CXdbqCmblAshOMAS6/keqq/sMZMZ19scR4PsZChSR7A=="
   crossorigin=""/>

 <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"
   integrity="sha512-XQoYMqMTK8LvdxXYG3nZ448hOEQiglfqkJs1NOQV44cWnUrBc8PkAOcXy20w0vlaXaVUearIOBhiXZ5V3ynxwA=="
   crossorigin=""></script>

   <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
   <link rel="shortcut icon" href="#" />
    </head>
<body>


    <div id="map" style="height: 100vh; width: 100%;"> </div>

    <script>
    var mapboxAccessToken = 'pk.eyJ1IjoiZmlyZWRpcmVjdGlvbiIsImEiOiJjanhwZDlndXQwZ2lkM2VwNHIzZGpzMGpjIn0.a9d87Xax3Me_0SdEj8eAeQ';
    var map = L.map('map').setView([37.8, -96], 4);
    
    L.tileLayer('https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token=' + mapboxAccessToken, {
        id: 'mapbox/light-v9',
        // attribution: ...,
        tileSize: 512,
        zoomOffset: -1
    }).addTo(map);
    
    function style() {
    return {
        fillColor: '#800026',
        weight: 2,
        opacity: 1,
        color: 'white',
        dashArray: '3',
        fillOpacity: 0.7
    };
}




    var statesLayer = L.geoJSON(null, {
            style: style,
            // onEachFeature: onEachFeature

        }).addTo(map);

   
    $.getJSON("./assets/gz_2010_us_040_00_500k.json", function(data) {
  
    statesLayer.addData(data);


});

// var locations = [
//   ["LOCATION_1", 11.8166, 122.0942],
//   ["LOCATION_2", 11.9804, 121.9189],
//   ["LOCATION_3", 10.7202, 122.5621],
//   ["LOCATION_4", 11.3889, 122.6277],
//   ["LOCATION_5", 10.5929, 122.6325]
// ];

// var map = L.map('map').setView([11.206051, 122.447886], 8);
// mapLink =
//   '<a href="http://openstreetmap.org">OpenStreetMap</a>';
// L.tileLayer(
//   'http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
//     attribution: '&copy; ' + mapLink + ' Contributors',
//     maxZoom: 18,
//   }).addTo(map);

// for (var i = 0; i < locations.length; i++) {
//   marker = new L.marker([locations[i][1], locations[i][2]])
//     .bindPopup(locations[i][0])
//     .addTo(map);
// }

// var spreadsheet_id = '1vc3oCn0__lUodoZR2oydmTQ90k6dkHorYBVitrVuYeM';
// var tab_name = 'Sheet1';
// var api_key = 'AIzaSyDpkFYEu7PUJbZ3Hk9_b9iVcmbHbrsr4os';


var locations = fetch(
  "https://opensheet.elk.sh/1vc3oCn0__lUodoZR2oydmTQ90k6dkHorYBVitrVuYeM/Sheet1"
)
  .then((res) => res.json());

for (var i = 0; i < locations.length; i++) {
  marker = new L.marker([locations[i][3], locations[i][4]])
    .bindPopup(locations[i][0])
    .addTo(map);
};



// var url = 'https://sheets.googleapis.com/v4/spreadsheets/' +
//            spreadsheet_id + '/values/' + tab_name +
//            '?alt=json&key=' + api_key;
// ($.getJSON(url, 'callback=?')).success(function(data) {
//     console.log(data)
// }));


    </script>






    
</body>
</html>